---
draft: true
date:
  created: 2025-01-03
  updated: 2025-01-12
  updated: 2025-01-13
categories:
  - Learning
tags:
  - LLM
  - Vector Storage
authors:
  - zhazi
---

# LLM 学习：Step2 - Milvus

!!! abstract ""

    上一阶段部署的 TinyRAG 部署采用了简单的 JSON 文件存储向量化结果。这种方案虽然易于实现，但可以预见的是，随着知识库规模的扩大，性能瓶颈逐渐显现：查询效率下降、存储空间占用过大、数据维护困难等问题接踵而至。而这，就是各种向量数据库发挥作用的地方了。

    计划：升级 TinyRAG 的存储方案，使用向量数据库 Milvus 管理数据  
    后续：进一步学习 Milvus，然后完成这篇博客

    ??? notes "Milvus"

        Milvus 是一个高性能、高扩展性的**向量数据库**，Milvus 支持多种数据类型和搜索功能，包括 ANN 搜索、过滤搜索和全文搜索等。Milvus 的设计考虑了硬件优化和高效的搜索引擎，因而具有良好的性能。此外，Milvus 还提供了多种部署模式，以适应不同的数据规模和应用需求。


    ??? info "参考文献"

        - [【【上集】向量数据库技术鉴赏】](https://www.bilibili.com/video/BV11a4y1c7SW)
        - [【【下集】向量数据库技术鉴赏】](https://www.bilibili.com/video/BV1BM4y177Dk)
<!-- more -->

## 为什么需要向量数据库？
这个问题可以分为两部分：为什么需要向量存储？以及为什么不使用传统数据库做向量存储？

**为什么需要向量存储？**原因很简单，深度学习领域中常常涉及到对数据的检索，而这些数据通常被编码为特征向量，因此需要有一种方式能把向量存储下来。

**为什么不使用传统数据库？**因为传统的关系型数据库中数据是在一个集合中的，用户通过各种条件设置对集合筛选出数据。而向量检索中的数据是在一个空间中的，用户需要的是找到距离输入向量最近的那条数据。传统数据库提供的服务和向量检索场景中用户的需求不匹配。

## 向量数据库原理

参考文献讲的很好，暂时没必要在这里画蛇添足。这里居然看到了之前研究过的 HNSW，图论还是有点用的嘛。

??? notes "ANN"

    向量数据库主要提供的服务是**查询与输入向量最接近的结果**。然而，要找到最正确的结果需要遍历数据库中的所有向量，这显然是不合适的。在精度和开销的权衡中，就有了近似最近邻（ANN）的概念。我们不再要求找到最接近的结果，只要找到一个大致接近的结果就好。


## 升级 TinyRAG 的存储方案
TODO
